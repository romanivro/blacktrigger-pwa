// main.js â€” ÐœÐ¾Ð½Ð¾Ð»Ð¸Ñ‚Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ BlackTrigger

// ------------------------- ðŸ“œ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð½Ñ ------------------------- const rules = [ "ÐÐµ Ð¾Ð¿Ñ€Ð°Ð²Ð´Ñ‹Ð²Ð°Ð¹ÑÑ â€” Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ Ð±ÐµÐ· Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° â€” ÑÐ»Ð°Ð±Ð¾ÑÑ‚ÑŒ.", "Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¿Ñ€Ð¸Ð½Ð¾ÑÐ¸Ñ‚ Ñ€ÐµÑÑƒÑ€Ñ â€” Ð¾Ñ‚ÑÐµÐºÐ°Ð¹.", "Ð¥Ð¸Ñ‰Ð½Ð¸Ðº Ð¼Ð¾Ð»Ñ‡Ð¸Ñ‚ Ñ‡Ð°Ñ‰Ðµ, Ñ‡ÐµÐ¼ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚.", "ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð½Ð°Ð´ ÑÐ¾Ð±Ð¾Ð¹ â€” ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð½Ð°Ð´ Ð²ÑÐµÐ¼.", "ÐšÐ°Ð¶Ð´Ð¾Ðµ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ â€” Ð²Ð¾Ð¹Ð½Ð° Ð·Ð° Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑ‹.", "Ð“Ñ€ÑƒÐ±Ð¾ÑÑ‚ÑŒ â€” Ñ„Ð¸Ð»ÑŒÑ‚Ñ€. ÐšÑ‚Ð¾ ÑÐ»Ð°Ð± â€” Ð¾Ñ‚Ð¿Ð°Ð´Ñ‘Ñ‚ ÑÐ°Ð¼.", "Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð´Ð¾Ð¼Ð¸Ð½Ð¸Ñ€ÑƒÐ¹, Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð´Ñ€ÑƒÐ¶Ð¸.", "Ð•ÑÐ»Ð¸ Ð½Ðµ Ð´Ð°Ð²ÑÑ‚ Ð½Ð° Ñ‚ÐµÐ±Ñ â€” Ð´Ð°Ð²Ð¸ Ñ‚Ñ‹.", "Ð›Ð¾Ð¶ÑŒ â€” Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚, Ð½Ðµ ÑÐ»Ð°Ð±Ð¾ÑÑ‚ÑŒ.", "ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ðµ â‰  Ð²Ñ‹Ð³Ð¾Ð´Ð½Ð¾Ðµ. Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹ Ð²Ñ‹Ð³Ð¾Ð´Ñƒ." ]; function getRule() { const index = Math.floor(Math.random() * rules.length); document.getElementById("rule").textContent = rules[index]; }

// ------------------------- ðŸ§  Ð›Ð¾Ð³ ------------------------- function saveLog(entry) { const now = new Date().toLocaleString(); const full = [${now}] ${entry}; const logList = JSON.parse(localStorage.getItem("log") || "[]"); logList.push(full); localStorage.setItem("log", JSON.stringify(logList)); renderLog(); } function renderLog() { const logList = JSON.parse(localStorage.getItem("log") || "[]"); const ul = document.getElementById("logList"); if (!ul) return; ul.innerHTML = ""; logList.slice(-30).forEach(entry => { const li = document.createElement("li"); li.textContent = entry; ul.appendChild(li); }); } function toggleLog() { const list = document.getElementById("logList"); list.style.display = list.style.display === "none" ? "block" : "none"; }

// ------------------------- ðŸ“‹ ÐŸÐ»Ð°Ð½ ------------------------- function addTask() { const input = document.getElementById("taskInput"); const value = input.value.trim(); if (value) { const li = document.createElement("li"); li.textContent = value; li.onclick = () => li.classList.toggle("done"); document.getElementById("taskList").appendChild(li); input.value = ""; saveLog(Ð—Ð°Ð´Ð°Ñ‡Ð°: ${value}); saveTasks(); } } function saveTasks() { const tasks = Array.from(document.querySelectorAll("#taskList li")).map(li => ({ text: li.textContent, done: li.classList.contains("done") })); localStorage.setItem("tasks", JSON.stringify(tasks)); } function loadTasks() { const data = JSON.parse(localStorage.getItem("tasks") || "[]"); const ul = document.getElementById("taskList"); ul.innerHTML = ""; data.forEach(task => { const li = document.createElement("li"); li.textContent = task.text; if (task.done) li.classList.add("done"); li.onclick = () => { li.classList.toggle("done"); saveTasks(); }; ul.appendChild(li); }); }

// ------------------------- â° ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ ------------------------- function addReminder() { const time = document.getElementById("reminderTime").value; const text = document.getElementById("reminderText").value.trim(); if (time && text) { const reminders = JSON.parse(localStorage.getItem("reminders") || "[]"); reminders.push({ time, text }); localStorage.setItem("reminders", JSON.stringify(reminders)); renderReminders(); saveLog(ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ: ${text} (${time})); } } function renderReminders() { const ul = document.getElementById("reminderList"); ul.innerHTML = ""; const data = JSON.parse(localStorage.getItem("reminders") || "[]"); data.forEach(({ time, text }) => { const li = document.createElement("li"); li.textContent = ${time} â€” ${text}; ul.appendChild(li); }); }

// ------------------------- ðŸ‘¥ ÐžÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ ------------------------- function addPerson() { const name = document.getElementById("personName").value.trim(); const status = document.getElementById("personStatus").value; if (name) { const li = document.createElement("li"); li.innerHTML = ${name} â€” <span class="${status}">${status.toUpperCase()}</span>; const btn = document.createElement("button"); btn.textContent = "âŒ"; btn.onclick = () => { li.remove(); savePeople(); saveLog(Ð£Ð´Ð°Ð»Ñ‘Ð½ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº: ${name}); }; li.appendChild(btn); document.getElementById("peopleList").appendChild(li); savePeople(); saveLog(Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½: ${name} (${status})); } } function savePeople() { const items = Array.from(document.querySelectorAll("#peopleList li")).map(li => li.innerHTML); localStorage.setItem("people", JSON.stringify(items)); } function loadPeople() { const ul = document.getElementById("peopleList"); ul.innerHTML = ""; const items = JSON.parse(localStorage.getItem("people") || "[]"); items.forEach(html => { const div = document.createElement("div"); div.innerHTML = html; ul.appendChild(div.firstChild); }); }

// ------------------------- ðŸ‹ï¸ Ð¤Ð¸Ð·Ð¾ ------------------------- function addWorkout() { const exercise = document.getElementById("exercise").value.trim(); const amount = parseFloat(document.getElementById("amount").value); if (exercise && !isNaN(amount)) { const logs = JSON.parse(localStorage.getItem("fit") || "[]"); logs.push({ exercise, amount }); localStorage.setItem("fit", JSON.stringify(logs)); renderFit(); updateFitChart(); saveLog(Ð¤Ð¸Ð·Ð¾: ${exercise} â€” ${amount}); } } function renderFit() { const ul = document.getElementById("fitLog"); ul.innerHTML = ""; const logs = JSON.parse(localStorage.getItem("fit") || "[]"); logs.forEach(log => { const li = document.createElement("li"); li.textContent = ${log.exercise}: ${log.amount}; ul.appendChild(li); }); } let fitChart; function updateFitChart() { const logs = JSON.parse(localStorage.getItem("fit") || "[]"); const dataMap = {}; logs.forEach(({ exercise, amount }) => { dataMap[exercise] = (dataMap[exercise] || 0) + amount; }); const ctx = document.getElementById("fitChart").getContext("2d"); if (fitChart) fitChart.destroy(); fitChart = new Chart(ctx, { type: "bar", data: { labels: Object.keys(dataMap), datasets: [{ data: Object.values(dataMap), backgroundColor: "#0f0", }] }, options: { plugins: { legend: { display: false } }, scales: { x: { ticks: { color: "#0f0" } }, y: { ticks: { color: "#0f0" }, beginAtZero: true } } } }); }

// ------------------------- ðŸ“Œ Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ ------------------------- function setState() { const state = document.getElementById("userState").value; localStorage.setItem("state", state); saveLog(Ð¡Ð¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ: ${state}); }

// ------------------------- ðŸš€ INIT ------------------------- window.addEventListener("DOMContentLoaded", () => { getRule(); loadTasks(); loadPeople(); renderReminders(); renderFit(); updateFitChart(); renderLog(); document.getElementById("userState").value = localStorage.getItem("state") || "focus"; });

